## Databases

### Database requirements
* SQL API
* Session Consistency
* Single orders container
* ID partition key

### Infrastructure Requirements
* Serverless, at least for Dev to make things cheaper but may be slow
* Add multi-region support later

### Creating cosmos db account

For Cosmos DB we need a cosmosDbAccount resource `res-cosmos-account`. Change defaultConsistencyLevel to 'Session', enableAutomaticFailover: false. In  capabilities change to name: 'EnableServerless'

Cosmos db `res-cosmos-sql-database` is a subresource of the cosmosDbAccount, hence for the former we can take name `${prefix}-cosmos-account` whereas for the latter: `${prefix}-cosmos-account/${prefix}-sqldb`.
We remove throughput from options, because it will be serverless

`res-cosmos-sql-container`
Container is subresource of sqlDB. To avoid concatenating names to make child name. One can define
parent through parent attribute and give normal name to a resourse. We remove indexing policy